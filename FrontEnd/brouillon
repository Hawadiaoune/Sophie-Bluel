/** page index  
// Création de la Fonction qui va ajouter les projets à la galerie
function ajouterTravauxAGalerie(travaux) {
  const galerieArchitecte = document.getElementById('galerie-architecte'); // Sélectionnez l'élément de la galerie dans le DOM

  // Supprimer les travaux existants avant d'ajouter les nouveaux
  galerieArchitecte.innerHTML = '';

  // Création des éléments HTML
  travaux.forEach(travail => {
    const travailElement = document.createElement('figure');
    travailElement.classList.add('travail');
    travailElement.setAttribute('data-categoryId', travail.categoryId);

    const imageElement = document.createElement('img');
    imageElement.src = travail.imageUrl;

    const figcaptionElement = document.createElement('figcaption');
    figcaptionElement.textContent = travail.title;

    // Ajout des éléments dans la galerie
    travailElement.appendChild(imageElement);
    travailElement.appendChild(figcaptionElement);
    galerieArchitecte.appendChild(travailElement);
  });
}

// Fonction pour filtrer les travaux par catégorie
function filtrerTravauxParCategorie(categorie) {
  const travaux = document.querySelectorAll('.travail');

  travaux.forEach(travail => {
    const travailCategoryId = travail.getAttribute('data-categoryId');

    if (categorie === 'tous' || travailCategoryId === categorie) {
      travail.style.display = 'block';
    } else {
      travail.style.display = 'none';
    }
  });
}

const boutonsCategories = document.querySelectorAll('#portfolio button');

boutonsCategories.forEach(bouton => {
  bouton.addEventListener('click', function () {
    const categorie = this.getAttribute('data-categoryId');
    filtrerTravauxParCategorie(categorie);
  });
});


// Récupération des données de l'API via fetch et ajout des nouveaux projets à la galerie
async function recupererTravauxArchitecte() {
  try {
    const response = await fetch('http://localhost:5678/api/works');
    const travaux = await response.json();
    ajouterTravauxAGalerie(travaux);
  } catch (error) {
    console.error('Erreur lors de la récupération des travaux :', error);
  }
}

// Appel de la fonction pour récupérer et ajouter les travaux à la galerie
recupererTravauxArchitecte();
*/



/*     <section id="login">
        <h2>Log In</h2>
        <form id="loginForm" method="post">
            <label for="username">Email</label>
            <input type="text" id="username" required>

            <label for="password">Mot de passe</label>
            <input type="password" id="password" required>

            <button id="soumission" type="submit" onclick="handleLoginFormSubmit()">Se connecter</button>
        </form>
        <p id="loginMessage"></p>
    </section>*/

/* Page Login

function handleLoginFormSubmit(event) {
	event.preventDefault();

	// Récupérer les valeurs des champs du formulaire
	const username = document.getElementById('username').value;
	const password = document.getElementById('password').value;


    	// Vérifier les identifiants et mots de passe
	if (username === 'sophie.bluel@test.tld' && password === 'S0phie') {
		// Identifiants et mots de passe corrects
		const successMessage = "Connexion réussie ! Bienvenue, " + username + " !";
		showSuccessMessage(successMessage);
		redirectToHomePage();
	} else {
		// Identifiants et mots de passe incorrects
		const errorMessage = "Erreur dans l'identifiant ou le mot de passe";
		showErrorMessage(errorMessage);
	}
}

// Fonction pour afficher un message de succès
function showSuccessMessage(message) {
	const loginMessage = document.getElementById('loginMessage');
	loginMessage.textContent = message;
	loginMessage.style.color = 'green';
}

// Fonction pour afficher un message d'erreur
function showErrorMessage(message) {
	const loginMessage = document.getElementById('loginMessage');
	loginMessage.textContent = message;
	loginMessage.style.color = 'red';
}

// Fonction pour rediriger vers la page d'accueil
function redirectToHomePage() {
	window.location.href = './index.html';
  recupererTravauxArchitecte(); 
}


	// Construire les données du formulaire à envoyer
	const formData = new FormData();
	formData.append('username', username);
	formData.append('password', password);



	// Envoyer la requête POST avec les identifiants de connexion


fetch('http://localhost:5678/api/users/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(formData)
})
  .then(response => response.json())
  .then(data => {
    if (data.userId && data.token) {
      // Authentification réussie
      const userId = data.userId;
      const token = data.token;

      // Stocker l'ID utilisateur et le token dans le stockage local
      localStorage.setItem('userId', userId);
      localStorage.setItem('token', token);

      // Rediriger vers la page d'accueil avec les boutons d'actions pour éditer le site
      redirectToHomePageWithActions();
      
    } else {
      // Erreur d'authentification
      const loginMessage = document.getElementById('loginMessage');
      loginMessage.textContent = 'Erreur dans l’identifiant ou le mot de passe';
      loginMessage.style.color = 'red';
    }
  })
  .catch(error => {
    // Gérer les erreurs de la requête
    console.error('Erreur lors de la requête de connexion:', error);
  });





// Écouter l'événement de soumission du formulaire
const loginForm = document.getElementById('loginForm');
loginForm.addEventListener('submit', handleLoginFormSubmit);

*/




function handleLoginFormSubmit(event) {
  event.preventDefault(); // Empêcher l'envoi du formulaire par défaut

  // Récupérer les valeurs des champs d'identifiant et de mot de passe
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;

  // Vérifier si le couple identifiant et mot de passe est valide
  if (username === 'admin' && password === 'password') {
    // Rediriger vers la page du site avec les boutons d'actions
    window.location.href = 'index.html';
  } else {
    // Afficher le message d'erreur
    const errorMessage = document.getElementById('error-message');
    errorMessage.textContent = 'Erreur dans l\'identifiant ou le mot de passe';
  }
}

// Ajouter un écouteur d'événement sur la soumission du formulaire
const loginForm = document.getElementById('login-form');
loginForm.addEventListener('submit', handleLoginFormSubmit);




/*


// Fonction pour gérer la soumission du formulaire
function handleLoginFormSubmit(event) {
	event.preventDefault();

	// Récupérer les valeurs des champs du formulaire
	const username = document.getElementById('username').value;
	const password = document.getElementById('password').value;

	// Vérifier les identifiants et mots de passe
	if (username === 'sophie.bluel@test.tld' && password === 'S0phie') {
		// Identifiants et mots de passe corrects
		const successMessage = "Connexion réussie ! Bienvenue, " + username + " !";
		showSuccessMessage(successMessage);
		redirectToHomePage();
	} else {
		// Identifiants et mots de passe incorrects
		const errorMessage = "Erreur dans l'identifiant ou le mot de passe";
		showErrorMessage(errorMessage);
	}
}

// Fonction pour afficher un message de succès
function showSuccessMessage(message) {
	const loginMessage = document.getElementById('loginMessage');
	loginMessage.textContent = message;
	loginMessage.style.color = 'green';
}

// Fonction pour afficher un message d'erreur
function showErrorMessage(message) {
	const loginMessage = document.getElementById('loginMessage');
	loginMessage.textContent = message;
	loginMessage.style.color = 'red';
}

// Fonction pour rediriger vers la page d'accueil
function redirectToHomePage() {
	window.location.href = './index.html';
}

// Écouter l'événement de soumission du formulaire
const loginForm = document.getElementById('loginForm');
loginForm.addEventListener('submit', handleLoginFormSubmit); */
*/


/** Page login */

// Fonction pour gérer la soumission du formulaire
function handleLoginFormSubmit(event) {
    event.preventDefault();
  
    // Récupérer les valeurs des champs du formulaire
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
  
    // Vérifier les identifiants et mots de passe
    if (username === 'sophie.bluel@test.tld' && password === 'S0phie') {
      // Identifiants et mots de passe corrects
      const successMessage = "Connexion réussie ! Bienvenue, " + username + " !";
      showSuccessMessage(successMessage);
      redirectToHomePage();
    } else {
      // Identifiants et mots de passe incorrects
      const errorMessage = "Erreur dans l'identifiant ou le mot de passe";
      showErrorMessage(errorMessage);
    }
  }
  
  // Fonction pour afficher un message de succès
  function showSuccessMessage(message) {
    const loginMessage = document.getElementById('loginMessage');
    loginMessage.textContent = message;
    loginMessage.style.color = 'green';
  }
  
  // Fonction pour afficher un message d'erreur
  function showErrorMessage(message) {
    const loginMessage = document.getElementById('loginMessage');
    loginMessage.textContent = message;
    loginMessage.style.color = 'red';
  }
  
  // Fonction pour rediriger vers la page d'accueil
  function redirectToHomePage() {
    window.location.href = './index.html';
  }
  
  // Écouter l'événement de soumission du formulaire
  const loginForm = document.getElementById('loginForm');
  loginForm.addEventListener('submit', handleLoginFormSubmit);



  <!-- Modale pour l'ajout de photo -->
<div id="addPhotoModal" class="modal">
	<div class="modal-content">
	  <span class="close" >&times;</span>
	  <h3>Ajout photo</h3>
	  <!-- Contenu de la modale d'ajout de photo -->
	  <section>
		<h4>+Ajouter Photo, jpg, png, 4 Mo max</h4>
		<form id="addImageForm">
			<input type="file" name="image" id="imageInput" accept="image/*">
		</form>

	  </section>
	  <section>
		<h4>Titre</h4>
		<input type="text" name="title" id="imageTitle" />
	  </section>
	  <section>
		<h4>Catégorie</h4>
		<input type="text" name="category" id="imageCategory" />
	  </section>
	  <button id="saveImageButton">Valider</button>
	</div>
  </div>